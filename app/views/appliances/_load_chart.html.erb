<div class="w-100 chart-container">
  <div class="d-flex justify-content-center align-items-center mb-4">
    <div class="text-center font-weight-bold mr-3">
      Daily load profile
    </div>
    <div class="d-flex justify-content-center">
      <div class="border border-secondary rounded bg-secondary text-white px-3 py-1">
        <%= @appliance.daily_consumption ? "#{@appliance.daily_consumption} Wh/day" : "n/a" %>
      </div>
    </div>
  </div>
  <div class="d-flex chart-plot">
    <% (0..23).each do |hour| %>
      <div class="d-flex flex-column-reverse w-100">
        <div class="text-center mt-1">
          <small class="font-weight-bold"><%= hour %></small>
        </div>
        <% rate = appliance.method("hourly_rate_#{hour}").call.to_i %>
        <div data-toggle="tooltip" title="<%= appliance.method("hourly_consumption_#{hour}").call %> Wh" data-placement="top" class="chart-bar-full w-100" style="height: <%= "#{ rate * 10 }%" %>"></div>
        <div class="chart-bar-empty w-100" style="height: <%= "#{ (10 - rate) * 10 }%" %>"></div>
      </div>
    <% end %>
  </div>
</div>
